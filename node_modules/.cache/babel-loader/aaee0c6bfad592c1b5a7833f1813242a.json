{"ast":null,"code":"import _slicedToArray from\"/Users/jeanbapt-sanchez/Documents/school/bddi-2020/gobelins-2020/Semaine-8-9/BDDI_ArtHouse/arthouse-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment,useEffect,useState,useRef}from'react';import Sound from\"../../assets/pictos/sound.svg\";import NoSound from\"../../assets/pictos/no-sound.svg\";import SceneLivre from'./SceneLivre';import Headphones from'../../assets/img/headphones.png';var Scene=function Scene(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isDesktop=_useState2[0],setIsDesktop=_useState2[1];var _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),screenWidth=_useState4[0],setScreenWidth=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isVoice=_useState6[0],setisVoice=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),soundNotAccepted=_useState8[0],setSoundNotAccepted=_useState8[1];var soundRef=useRef(null);useEffect(function(history){if(screenWidth>1600){setIsDesktop(true);}else if(soundNotAccepted===false){setIsDesktop(false);if(isVoice===true){setTimeout(function(){soundRef.current.src=Sound;// soundEffect.play()\n},1);}else{setTimeout(function(){console.log(soundRef);soundRef.current.src=NoSound;// soundEffect.pause()\n},1);}}},[screenWidth,isVoice,soundNotAccepted]);window.addEventListener('resize',function(){setScreenWidth(window.innerWidth);});var playAudio=function playAudio(){setSoundNotAccepted(false);props.soundEffect.play();};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-screen text-center grid\",children:[soundNotAccepted&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center mx-auto w-40\",children:[/*#__PURE__*/_jsx(\"img\",{src:Headphones,alt:\"headphones\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Le casque est n\\xE9cessaire lors de cette exp\\xE9rience\"}),/*#__PURE__*/_jsx(\"button\",{className:\"border-2 border-white-500 rounded-xl px-4\",onClick:function onClick(){return playAudio();},children:/*#__PURE__*/_jsx(\"p\",{children:\"J'autorise\"})})]}),!isDesktop&&!soundNotAccepted&&/*#__PURE__*/_jsxs(\"div\",{className:\"Mobile w-full h-screen\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"img\",{src:Sound,ref:soundRef,alt:\"sound\",onClick:function onClick(){setisVoice(!isVoice);},className:\"sound absolute left-5 top-4 w-10 z-80 cursor-pointer\"})}),/*#__PURE__*/_jsx(SceneLivre,{isVoice:isVoice,soundEffect:props.soundEffect,soundNotAccepted:soundNotAccepted})]})]})});};export default Scene;","map":{"version":3,"sources":["/Users/jeanbapt-sanchez/Documents/school/bddi-2020/gobelins-2020/Semaine-8-9/BDDI_ArtHouse/arthouse-app/src/components/Scenes/index.js"],"names":["Fragment","useEffect","useState","useRef","SceneLivre","Headphones","Scene","props","isDesktop","setIsDesktop","window","innerWidth","screenWidth","setScreenWidth","isVoice","setisVoice","soundNotAccepted","setSoundNotAccepted","soundRef","history","setTimeout","current","src","Sound","console","log","NoSound","addEventListener","playAudio","soundEffect","play"],"mappings":"sTAAA,OAASA,QAAT,CAAmBC,SAAnB,CAA8BC,QAA9B,CAAwCC,MAAxC,KAAqD,OAArD,C,uGAGA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,iCAAvB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,eACWL,QAAQ,CAAC,IAAD,CADnB,wCAChBM,SADgB,eACLC,YADK,8BAEeP,QAAQ,CAACQ,MAAM,CAACC,UAAR,CAFvB,yCAEhBC,WAFgB,eAEHC,cAFG,8BAGOX,QAAQ,CAAC,KAAD,CAHf,yCAGhBY,OAHgB,eAGPC,UAHO,8BAIyBb,QAAQ,CAAC,IAAD,CAJjC,yCAIhBc,gBAJgB,eAIEC,mBAJF,eAKvB,GAAMC,CAAAA,QAAQ,CAAGf,MAAM,CAAC,IAAD,CAAvB,CAEAF,SAAS,CAAC,SAACkB,OAAD,CAAa,CACrB,GAAGP,WAAW,CAAG,IAAjB,CAAsB,CACpBH,YAAY,CAAC,IAAD,CAAZ,CACD,CAFD,IAEO,IAAGO,gBAAgB,GAAK,KAAxB,CAA8B,CACnCP,YAAY,CAAC,KAAD,CAAZ,CACE,GAAGK,OAAO,GAAK,IAAf,CAAoB,CAClBM,UAAU,CAAC,UAAM,CACfF,QAAQ,CAACG,OAAT,CAAiBC,GAAjB,CAAuBC,KAAvB,CACA;AACD,CAHS,CAGP,CAHO,CAAV,CAID,CALD,IAKO,CACHH,UAAU,CAAC,UAAM,CACfI,OAAO,CAACC,GAAR,CAAYP,QAAZ,EACAA,QAAQ,CAACG,OAAT,CAAiBC,GAAjB,CAAuBI,OAAvB,CACA;AACD,CAJS,CAIP,CAJO,CAAV,CAKD,CACN,CACF,CAlBQ,CAkBN,CAACd,WAAD,CAAcE,OAAd,CAAuBE,gBAAvB,CAlBM,CAAT,CAoBAN,MAAM,CAACiB,gBAAP,CAAwB,QAAxB,CAAkC,UAAM,CACtCd,cAAc,CAACH,MAAM,CAACC,UAAR,CAAd,CACD,CAFD,EAIA,GAAMiB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBX,mBAAmB,CAAC,KAAD,CAAnB,CACAV,KAAK,CAACsB,WAAN,CAAkBC,IAAlB,GACD,CAHD,CAKA,mBACE,KAAC,QAAD,wBACE,aAAK,SAAS,CAAC,kCAAf,WACGd,gBAAgB,eACf,aAAK,SAAS,CAAC,wDAAf,wBACE,YAAK,GAAG,CAAEX,UAAV,CAAsB,GAAG,CAAC,YAA1B,EADF,cAEE,8EAFF,cAGE,eAAQ,SAAS,CAAC,2CAAlB,CAA8D,OAAO,CAAE,yBAAMuB,CAAAA,SAAS,EAAf,EAAvE,uBAA0F,iCAA1F,EAHF,GAFJ,CAOK,CAACpB,SAAD,EAAc,CAACQ,gBAAf,eACC,aAAK,SAAS,CAAC,wBAAf,wBACE,gCACE,YACE,GAAG,CAAEO,KADP,CAEE,GAAG,CAAEL,QAFP,CAGE,GAAG,CAAC,OAHN,CAIE,OAAO,CAAE,kBAAM,CAACH,UAAU,CAAC,CAACD,OAAF,CAAV,CAAqB,CAJvC,CAKE,SAAS,CAAC,sDALZ,EADF,EADF,cASE,KAAC,UAAD,EAAY,OAAO,CAAEA,OAArB,CAA8B,WAAW,CAAEP,KAAK,CAACsB,WAAjD,CAA8D,gBAAgB,CAAEb,gBAAhF,EATF,GARN,GADF,EADF,CAyBD,CA7DD,CA+DA,cAAeV,CAAAA,KAAf","sourcesContent":["import { Fragment, useEffect, useState, useRef} from 'react'\nimport Sound from '../../assets/pictos/sound.svg'\nimport NoSound from '../../assets/pictos/no-sound.svg'\nimport SceneLivre from './SceneLivre';\nimport Headphones from '../../assets/img/headphones.png'\n\nconst Scene = (props) => {\n  const [isDesktop, setIsDesktop] = useState(true)\n  const [screenWidth, setScreenWidth] = useState(window.innerWidth)\n  const [isVoice, setisVoice] = useState(false)\n  const [soundNotAccepted, setSoundNotAccepted] = useState(true)\n  const soundRef = useRef(null)\n\n  useEffect((history) => {\n    if(screenWidth > 1600){\n      setIsDesktop(true)\n    } else if(soundNotAccepted === false){\n      setIsDesktop(false)\n        if(isVoice === true){\n          setTimeout(() => {\n            soundRef.current.src = Sound\n            // soundEffect.play()\n          }, 1) \n        } else {\n            setTimeout(() => {\n              console.log(soundRef)\n              soundRef.current.src = NoSound\n              // soundEffect.pause()\n            }, 1)\n          }\n    }\n  }, [screenWidth, isVoice, soundNotAccepted])\n\n  window.addEventListener('resize', () => {\n    setScreenWidth(window.innerWidth)\n  })\n\n  const playAudio = () => {\n    setSoundNotAccepted(false)\n    props.soundEffect.play()\n  }\n\n  return (\n    <Fragment>\n      <div className=\"w-full h-screen text-center grid\">\n        {soundNotAccepted &&\n          <div className=\"flex flex-col justify-center items-center mx-auto w-40\">\n            <img src={Headphones} alt=\"headphones\" />\n            <p>Le casque est nécessaire lors de cette expérience</p>\n            <button className=\"border-2 border-white-500 rounded-xl px-4\" onClick={() => playAudio()}><p>J'autorise</p></button>\n          </div>}\n          {!isDesktop && !soundNotAccepted &&\n            <div className=\"Mobile w-full h-screen\">\n              <p>\n                <img\n                  src={Sound}\n                  ref={soundRef}\n                  alt=\"sound\"\n                  onClick={() => {setisVoice(!isVoice)}}\n                  className=\"sound absolute left-5 top-4 w-10 z-80 cursor-pointer\"/>\n              </p>\n              <SceneLivre isVoice={isVoice} soundEffect={props.soundEffect} soundNotAccepted={soundNotAccepted}/>\n            </div>\n          }\n      </div>\n    </Fragment>\n  )\n}\n\nexport default Scene\n"]},"metadata":{},"sourceType":"module"}